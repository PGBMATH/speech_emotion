# The block index is multiplied with the channels to get out_channels
block_index: 1
sequence: [tdnn1, norm1, tdnn2, norm2, tdnn3, norm3, tdnn4, norm4, tdnn5, norm5]

tdnn1: !speechbrain.nnet.TDNN.TDNN
    context: [-2, 2]
    input_dim: 20
    output_dim: 512  # output channels
    full_context: True

norm1: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

tdnn2: !speechbrain.nnet.TDNN.TDNN
    context: [-2, 1, 2]
    input_dim: 512
    output_dim: 512
    full_context: False

norm2: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

tdnn3: !speechbrain.nnet.TDNN.TDNN
    context: [-3, 1, 3]
    input_dim: 512
    output_dim: 512
    full_context: False

norm3: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

tdnn4: !speechbrain.nnet.TDNN.TDNN
    context: [1]
    input_dim: 512
    output_dim: 512
    full_context: True

norm4: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

tdnn5: !speechbrain.nnet.TDNN.TDNN
    context: [1]
    input_dim: 512
    output_dim: 1500
    full_context: True

norm5: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

stats_pool: !speechbrain.nnet.TDNN.TDNN
    context: [1]
    input_dim: 512
    output_dim: 1500
    full_context: True
