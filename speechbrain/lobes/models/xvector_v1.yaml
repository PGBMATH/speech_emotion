# The block index is multiplied with the channels to get out_channels
block_index: 1
channels: 512
sequence: [conv1, norm1, activation, conv2, norm2, activation,
           conv3, norm3, activation, conv4, norm4, activation,
           conv5, norm5, activation]

conv1: !speechbrain.nnet.CNN.Conv
    out_channels: !operator.mul
        - !ref <block_index>
        - !ref <channels>
    kernel_size: [5]
    dilation: [1]

norm1: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

conv2: !speechbrain.nnet.CNN.Conv
    out_channels: !operator.mul
        - !ref <block_index>
        - !ref <channels>
    kernel_size: [3]
    dilation: [2]

norm2: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

conv3: !speechbrain.nnet.CNN.Conv
    out_channels: !operator.mul
        - !ref <block_index>
        - !ref <channels>
    kernel_size: [3]
    dilation: [3]

norm3: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

conv4: !speechbrain.nnet.CNN.Conv
    out_channels: !operator.mul
        - !ref <block_index>
        - !ref <channels>
    kernel_size: [1]

norm4: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

conv5: !speechbrain.nnet.CNN.Conv
    out_channels: !operator.mul
        - !ref <block_index>
        - 1500
    kernel_size: [1]

norm5: !speechbrain.nnet.normalization.Normalize
    norm_type: batchnorm

activation: !torch.nn.LeakyReLU
